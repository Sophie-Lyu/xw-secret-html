<!DOCTYPE html>
<html lang="zh">
<head>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday å°ç†Š</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
      font-family: 'Arial Rounded MT Bold', 'Segoe UI', sans-serif;
      background-color: #f3eaff;
      scroll-behavior: smooth;
    }
    section {
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
    }
    .hero {
      height: 100vh;
      background-color: #f3eaff;
      color: #333;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }
    .banner {
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 1rem;
    }
    .subtitle {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
    }
    .emoji-line {
      font-size: 2rem;
      margin-bottom: 2rem;
    }
    .scroll-hint {
      font-size: 1rem;
      color: #6c548d;
      animation: bounce 1.5s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(8px); }
    }

    .gift-section {
      height: 100vh;
      background-color: #f3eaff;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .gift-container {
      position: relative;
      width: 70%;
      max-width: 700px;
    }

    .gift-image {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      display: block;
    }

    .gift-box {
      position: absolute;
      top: 33%;
      left: 55%;
      transform: translate(-50%, -5%);
      background: transparent; /* âœ… æ”¹ä¸ºå®Œå…¨é€æ˜ */
      border: none;            /* âœ… å»é™¤è¾¹æ¡† */
      border-radius: 16px;
      padding: 20px;
      width: 75%;
      max-width: 500px;
      color: #333;
      font-size: 1.2rem;
      line-height: 1.6;
      cursor: pointer;
      text-align: left;
      font-size: 1.1rem;
      line-height: 1.8;
    }

    .video-section {
      background-color: #f3eaff;
      height: 100vh; /* å…¨å±é«˜ */
      display: flex;
      flex-direction: column;
      justify-content: center; /* å‚ç›´å±…ä¸­ */
      align-items: center;     /* æ°´å¹³å±…ä¸­ */
      opacity: 0;
      transform: translateY(50px);
      transition: opacity 2s ease, transform 2s ease;
      text-align: center;
    }

    .video-section.slide-in {
        opacity: 1;
        transform: translateY(0);
    }
    
    
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      max-width: 90%;
      margin: 0 auto;
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .typewriter {
      overflow: hidden;
      border-right: .15em solid #c9b6ec;
      white-space: nowrap;
      margin: 0 auto;
      letter-spacing: 0.05em;
      animation: typing 3s steps(30, end), blink-caret .75s step-end infinite;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #c9b6ec; }
    }
    
    .fade-in {
      animation: fadeIn 2s ease forwards;
      opacity: 0;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes bounceUpDown {
      0%, 100% { transform: translate(-50%, -50%) translateY(0); }
      50% { transform: translate(-50%, -50%) translateY(-8px); }
    }
    
    .click-tip.show {
      opacity: 1;
      pointer-events: auto;
      animation: bounceUpDown 1.5s infinite ease-in-out;
    }

    .spacer::before {
      content: 'Keep going, thereâ€™s more â†“';
      display: block;
      text-align: center;
      color: #999;
      font-size: 1rem;
      padding-top: 3rem;
    }

    .click-tip {
      position: absolute;
      top: 28%;
      left: 55%;
      transform: translate(-50%, -50%);
      font-size: 1rem;
      color: #888;
      background: rgba(255, 255, 255, 0.7);
      padding: 0.4rem 0.8rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      opacity: 0;
      transition: opacity 1s ease;
      pointer-events: none; /* é˜²æ­¢ç”¨æˆ·æå‰ç‚¹ */
    }
    
    .click-tip.show {
      opacity: 1;
      pointer-events: auto;
    }
    
    @keyframes fadeInUp {
      from {
        transform: translate(-50%, -30%);
        opacity: 0;
      }
      to {
        transform: translate(-50%, -50%);
        opacity: 1;
      }
    }

    .ending-section {
      height: 100vh;
      background-color: #f3eaff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.4rem;
      color: #5e4a80;
      text-align: center;
      padding: 2rem;
      line-height: 1.8;
      font-family: 'Arial Rounded MT Bold', 'Segoe UI', sans-serif;
    }

    .ending-section p {
      animation: floatText 1s ease-in-out infinite;
    }
    
    #ending-text span {
      display: inline-block;
      opacity: 0;
      transform: translateY(20px);
      animation: riseIn 0.6s ease forwards;
    }
    
    #ending-text span:nth-child(1) { animation-delay: 0s; }
    #ending-text span:nth-child(2) { animation-delay: 0.1s; }
    #ending-text span:nth-child(3) { animation-delay: 0.2s; }
    #ending-text span:nth-child(4) { animation-delay: 0.3s; }
    #ending-text span:nth-child(5) { animation-delay: 0.4s; }
    #ending-text span:nth-child(6) { animation-delay: 0.5s; }
    #ending-text span:nth-child(7) { animation-delay: 0.6s; }
    #ending-text span:nth-child(8) { animation-delay: 0.7s; }
    #ending-text span:nth-child(9) { animation-delay: 0.8s; }
    #ending-text span:nth-child(10) { animation-delay: 0.9s; }
    #ending-text span:nth-child(11) { animation-delay: 1s; }
    #ending-text span:nth-child(12) { animation-delay: 1.1s; }
    #ending-text span:nth-child(13) { animation-delay: 1.2s; }
    #ending-text span:nth-child(14) { animation-delay: 1.3s; }
    #ending-text span:nth-child(15) { animation-delay: 1.4s; }
    #ending-text span:nth-child(16) { animation-delay: 1.5s; }
    #ending-text span:nth-child(17) { animation-delay: 1.6s; }
    #ending-text span:nth-child(18) { animation-delay: 1.7s; }
    
    @keyframes riseIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes riseIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes floatText {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-25px); }
    }

    
    @keyframes riseIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    
    .password-container.shake {
      animation: shake 0.4s ease;
    }

    .gift-box,
    .click-tip {
    display: none;
    }
  </style>
</head>
<body>
  <section class="hero">
    <h1 class="banner">HAPPY <br> ğŸ§ BIRTHDAY ğŸ‰</h1>
    <h2 class="subtitle">to my dearest å°ç†Š ğŸ§¸</h2>
    <div class="emoji-line">ğŸ±</div>
    <div class="scroll-hint">â†“ Scroll down to unlock your surprise â†“</div>
  </section>

  <section class="gift-section">
    <div class="password-container">
      <p>ğŸ”’ï¼š</p>
      <input type="password" id="password-input" placeholder="enter password">
      <button onclick="checkPassword()">checkPassword</button>
      <p id="password-hint" style="color: rgba(67, 8, 107, 0.893); display: none;">wrongï¼</p>
    
      <img id="peek-cat" src="https://github.com/Sophie-Lyu/xw-secret-html/blob/main/IMG_8475.gif" alt="peek cat"
     style="width: 60px; position: centre; top: 8px; left: calc(100% - 10px); display: none;">
    </div>
    <div class="gift-container">
      <img class="gift-image" src="https://i.ibb.co/ZzYrDLsh/3601752334241-pic.jpg" alt="gift background" onclick="startTyping()">
      <div class="gift-box fade-in" onclick="startTyping()">
        <p id="typed-text"></p>
      </div>
      <div class="click-tip">Click the box</div>
    </div>
    <div class="spacer"></div>
  </section>

  <section class="video-section">
    <h2><div class="center-player">ğŸµ çŸ¥é“ä½ ä¸å–œæ¬¢å¬å¾ˆå¤šé•¿ç¯‡å¤§è®ºï¼Œå°±åä¸‹æ¥å¬ä¸€é¦–æˆ‘ä»¬éƒ½å–œæ¬¢çš„æ­Œå§ã€‚</div></h2>
    <p><a href="http://vevo.ly/qotuwG" target="_blank"
          style="color:#6c548d; font-size: 1.2rem; text-decoration: underline;">
          ç‚¹å‡»è¿™é‡Œå»Youtubeå¬è¿™é¦–æ­Œ ğŸ§<br> æ²¡é”™æ„šè ¢çš„Sophieæ²¡æ‰¾åˆ°ç½‘é¡µå†…ç½®éŸ³é¢‘çš„åŠæ³•
        </a></p>
  </section>

  <section class="ending-section">
    <p id="ending-text">
      <span>å—¯</span><span>ï¼Ÿ</span><span>ä½ </span><span>ä»¥</span><span>ä¸º</span><span>è¿˜</span><span>æœ‰</span><span>ä»€</span><span>ä¹ˆ</span><span>å†…</span><span>å®¹</span><span>å—</span><span>ï¼Ÿ</span><span>ä»˜</span><span>è´¹</span><span>è§£</span><span>é”</span><span>ğŸ˜‰</span>
    </p>
  </section>

  <button onclick="openGame()" style="margin-top: 2rem; padding: 0.8rem 1.5rem; font-size: 1.2rem; background: #d7c6f4; border: none; border-radius: 8px; cursor: pointer;">
    ğŸ•¹ï¸ Start Flappy Bear
  </button>

  <section class="game-section" style="display: none; background-color: #f3eaff; height: 100vh; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
    <h2 style="color: #6c548d;"> ğŸ® Flippy bear </h2>
    <iframe id="game-frame" width="320" height="480" style="border: none; margin-top: 1rem;"></iframe>
  </section>
  
  <script>
    let unlocked = false;
    function checkPassword() {
      const input = document.getElementById('password-input').value.trim();
      const correctPassword = 'xyz123456';
    
      if (input === correctPassword) {
        unlocked = true; // âœ… è®¾ç½®å·²è§£é”
        document.querySelector('.password-container').style.display = 'none';
        document.querySelector('.gift-box').style.display = 'block';
        document.querySelector('.click-tip').style.display = 'block';
      } else {
        document.getElementById('password-hint').style.display = 'block';
        const container = document.querySelector('.password-container');
        container.classList.add('shake');
      
        setTimeout(() => {
          container.classList.remove('shake'); // åŠ¨ç”»æ’­æ”¾å®Œè®°å¾—ç§»é™¤
        }, 400);
      }
      }
    
    document.getElementById('password-input').addEventListener('input', () => {
        document.getElementById('peek-cat').style.display = 'block';
      });

    const text = "å° ç†Š ç”Ÿ æ—¥ å¿« ä¹ å“¦ã€‚       æœ¬æ¥è®¾æƒ³åšä¸€ä¸ªå¾ˆé…·çš„ç½‘é¡µï¼Œ   ä½†æ˜¯æœ‰ç‚¹å„¿å¤±è´¥äº†qwq...  æˆ‘ç›¸ä¿¡å°æœ‹å‹ä¸ä¼šä»‹æ„çš„ã€‚  æ¯•ç«Ÿè¿˜æ˜¯æœ‰ç‚¹å„¿é…·å§ğŸ˜‰    å¸¸èµå¹ä½ æœ‰å†²ç ´ä¸€åˆ‡æ¡æ¢çš„ç”Ÿå‘½åŠ›ï¼Œ è™½ç„¶   æœ¬å°±åœ¨è›¹èŒ§ä¹‹å¤–ã€‚  å—¯â€¦â€¦å°±ç¥ä½ è‡ªç”±ï¼Œç¥ä½ å¦‚é£ï¼Œç¥ä½ æ´’è„±ï¼Œåœ¨ä¸°ç›ˆçš„çˆ±æ„é‡Œæ°¸è¿œæ— ç•.          ï¼ˆè®°å¾—å»å¹´åœ£è¯èŠ‚å†™åœ¨è´ºå¡ä¸Šçš„è¯å—ï¼Œä¹Ÿè¦å†é‡å¤ä¸€éğŸ˜ˆï¼‰";
    const typedText = document.getElementById("typed-text");
    let i = 0;
    let typingStarted = false;
  
    function typeWriter() {
      if (i < text.length) {
        typedText.innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, 200);
      }
    }
  
    function startTyping() {
      if (!unlocked || typingStarted) return; // âœ… æœªè§£é”æˆ–å·²æ‰“å­—æ—¶ä¸è§¦å‘
    
      typingStarted = true;
      typeWriter();
      document.querySelector('.click-tip')?.remove();
    }
  
    // âœ… ç¤¼èŠ±è§¦å‘æ ‡è®°å¿…é¡»å†™åœ¨å¤–éƒ¨
    let confettiPlayed = false;
  
    window.addEventListener('scroll', function () {
      const videoSection = document.querySelector('.video-section');
      const giftSection = document.querySelector('.gift-section');
      const endingSection = document.querySelector('.ending-section');
      const clickTip = document.querySelector('.click-tip');
  
      const rectVideo = videoSection.getBoundingClientRect();
      const rectGift = giftSection.getBoundingClientRect();
      const rectEnding = endingSection.getBoundingClientRect();
      const windowHeight = window.innerHeight;
  
      // ğŸ§ è§†é¢‘é¡µæµ®ç°
      if (rectVideo.top < windowHeight - 400) {
        videoSection.classList.add('slide-in');
      }
  
      // ğŸ“¦ ç¬¬äºŒé¡µæç¤ºè¯
      if (rectGift.top < windowHeight - 700) {
        clickTip.classList.add('show');
      }
  
      // ğŸ† ç¬¬å››é¡µæ–‡å­—åŠ¨ç”» + ç¤¼èŠ±åªè§¦å‘ä¸€æ¬¡
      if (rectEnding.top < windowHeight - 400 && !confettiPlayed) {
        endingSection.classList.add('show');
        confettiPlayed = true;
  
        confetti({
          particleCount: 150,
          spread: 100,
          origin: { y: 0.6 }
        });
      }
    });
    
    document.addEventListener('click', () => {
      confetti({
        particleCount: 100,
        spread: 90,
        origin: {
          x: Math.random(), // éšæœºæ¨ªå‘ä½ç½®
          y: Math.random() * 0.8 // ä¸ŠåŠå±å¹•éšæœº
        }
      });
    });
    
    function openGame() {
      alert(
        "ğŸš« Access Denied: This feature is currently unavailable.\n\n" +
        "The mini-game 'Flappy Bear' is part of the advanced birthday expansion pack ğŸ§¸.\n\n" +
        "To unlock this feature, please upgrade to the premium friendship tier.\n\n" +
        "Contact your local developer (Sophie ğŸ’») for payment options and DLC release date."
      );
    }
  </script>
  
  
</body>
</html>
